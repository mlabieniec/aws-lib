!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@aws-sdk/client-cognito-identity"),require("@aws-sdk/client-cognito-identity-provider"),require("axios"),require("@aws-sdk/signature-v4"),require("@aws-crypto/sha256-js"),require("localstorage-slim"),require("crypto-js/enc-utf8"),require("crypto-js/aes")):"function"==typeof define&&define.amd?define(["exports","@aws-sdk/client-cognito-identity","@aws-sdk/client-cognito-identity-provider","axios","@aws-sdk/signature-v4","@aws-crypto/sha256-js","localstorage-slim","crypto-js/enc-utf8","crypto-js/aes"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).awsLib={},t.clientCognitoIdentity,t.clientCognitoIdentityProvider,t.axios,t.signatureV4,t.sha256Js,t.ls,t.encUTF8,t.AES)}(this,(function(t,e,n,i,r,o,s,a,c){"use strict";var u,f,h,d,l={cognitoIdentityPoolID:"us-east-1:3c32a4f0-cd83-4eff-bce8-22144dee7b80",cognitoUserPoolClientID:"fiea480dpek44e71t52qkiipf",cognitoUserpoolID:"us-east-1_MOq2y9G4G",data:"https://hlwkrq00q7.execute-api.us-east-1.amazonaws.com/prod/data",auth:"https://hlwkrq00q7.execute-api.us-east-1.amazonaws.com/prod/auth",google:"677953287897-2brf5vfk5tbs9t7a607tuiu8mjqavaej.apps.googleusercontent.com",id:"74a7c66d-af69-5b3a-b43b-19310b2a23a1",region:"us-east-1"};u=void 0,f=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i=n(2),r=n(3),o=n(4),s=n(12),a=t.exports=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge({method:"get",headers:{},timeout:i.timeout,transformRequest:i.transformRequest,transformResponse:i.transformResponse},t)).withCredentials=t.withCredentials||i.withCredentials;var e=[o,void 0],n=Promise.resolve(t);for(a.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),a.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n};a.defaults=i,a.all=function(t){return Promise.all(t)},a.spread=n(13),a.interceptors={request:new s,response:new s},function(){r.forEach(arguments,(function(t){a[t]=function(e,n){return a(r.merge(n||{},{method:t,url:e}))}}))}("delete","get","head"),function(){r.forEach(arguments,(function(t){a[t]=function(e,n,i){return a(r.merge(i||{},{method:t,url:e,data:n}))}}))}("post","put","patch")},function(t,e,n){var i=n(3),r=/^\)\]\}',?\n/,o={"Content-Type":"application/json"};t.exports={transformRequest:[function(t,e){return i.isFormData(t)||i.isArrayBuffer(t)?t:i.isArrayBufferView(t)?t.buffer:!i.isObject(t)||i.isFile(t)||i.isBlob(t)?t:(i.isUndefined(e)||(i.forEach(e,(function(t,n){"content-type"===n.toLowerCase()&&(e["Content-Type"]=t)})),i.isUndefined(e["Content-Type"])&&(e["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(t))}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(r,"");try{t=JSON.parse(t)}catch(t){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:i.merge(o),post:i.merge(o),put:i.merge(o)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}},function(t,e){var n=Object.prototype.toString;function i(t){return"[object Array]"===n.call(t)}function r(t,e){if(null!=t){var r,o=i(t)||(r=t,"[object Arguments]"===n.call(r));if("object"==typeof t||o||(t=[t]),o)for(var s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else for(var c in t)t.hasOwnProperty(c)&&e.call(null,t[c],c,t)}}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isFormData:function(t){return"[object FormData]"===n.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return null!==t&&"object"==typeof t},isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isStandardBrowserEnv:function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},forEach:r,merge:function(){var t={};return r(arguments,(function(e){r(e,(function(e,n){t[n]=e}))})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){(function(e){t.exports=function(t){return new Promise((function(i,r){try{("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof ActiveXObject||void 0!==e)&&n(6)(i,r,t)}catch(t){r(t)}}))}}).call(e,n(5))},function(t,e){var n,i=t.exports={},r=[],o=!1,s=-1;function a(){o=!1,n.length?r=n.concat(r):s=-1,r.length&&c()}function c(){if(!o){var t=setTimeout(a);o=!0;for(var e=r.length;e;){for(n=r,r=[];++s<e;)n&&n[s].run();s=-1,e=r.length}n=null,o=!1,clearTimeout(t)}}function u(t,e){this.fun=t,this.array=e}function f(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];r.push(new u(t,e)),1!==r.length||o||setTimeout(c,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var i=n(2),r=n(3),o=n(7),s=n(8),a=n(9);t.exports=function(t,e,c){var u=a(c.data,c.headers,c.transformRequest),f=r.merge(i.headers.common,i.headers[c.method]||{},c.headers||{});r.isFormData(u);var h=new(XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP");if(h.open(c.method.toUpperCase(),o(c.url,c.params),!0),h.timeout=c.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState){var n=s(h.getAllResponseHeaders()),i=-1!==["text",""].indexOf(c.responseType||"")?h.responseText:h.response,r={data:a(i,n,c.transformResponse),status:h.status,statusText:h.statusText,headers:n,config:c};(h.status>=200&&h.status<300?t:e)(r),h=null}},r.isStandardBrowserEnv()){var d=n(10),l=n(11)(c.url)?d.read(c.xsrfCookieName||i.xsrfCookieName):void 0;l&&(f[c.xsrfHeaderName||i.xsrfHeaderName]=l)}if(r.forEach(f,(function(t,e){u||"content-type"!==e.toLowerCase()?h.setRequestHeader(e,t):delete f[e]})),c.withCredentials&&(h.withCredentials=!0),c.responseType)try{h.responseType=c.responseType}catch(t){if("json"!==h.responseType)throw t}r.isArrayBuffer(u)&&(u=new DataView(u)),h.send(u)}},function(t,e,n){var i=n(3);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e){if(!e)return t;var n=[];return i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),n.push(r(e)+"="+r(t))})))})),n.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+n.join("&")),t}},function(t,e,n){var i=n(3);t.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),(function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e&&(o[e]=o[e]?o[e]+", "+n:n)})),o):o}},function(t,e,n){var i=n(3);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){var i=n(3);t.exports={write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}},function(t,e,n){var i,r=n(3),o=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function a(t){var e=t;return o&&(s.setAttribute("href",e),e=s.href),s.setAttribute("href",e),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}i=a(window.location.href),t.exports=function(t){var e=r.isString(t)?a(t):t;return e.protocol===i.protocol&&e.host===i.host}},function(t,e,n){var i=n(3);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e){t.exports=function(t){return function(e){return t.apply(null,e)}}}])},"object"==typeof t&&"object"==typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):"object"==typeof t?t.axios=f():u.axios=f(),CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(n,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(n,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,a=r/(4*o);if(e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,r=t.min(4*e,r),e){for(var c=0;c<e;c+=o)this._doProcessBlock(i,c);c=i.splice(0,e),n.sigBytes-=r}return new s.init(c,r)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=n.algo={};return n}(Math),function(t){for(var e=CryptoJS,n=(r=e.lib).WordArray,i=r.Hasher,r=e.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},c=2,u=0;64>u;){var f;t:{f=c;for(var h=t.sqrt(f),d=2;d<=h;d++)if(!(f%d)){f=!1;break t}f=!0}f&&(8>u&&(o[u]=a(t.pow(c,.5))),s[u]=a(t.pow(c,1/3)),u++),c++}var l=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],c=n[4],u=n[5],f=n[6],h=n[7],d=0;64>d;d++){if(16>d)l[d]=0|t[e+d];else{var p=l[d-15],g=l[d-2];l[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+l[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+l[d-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&f)+s[d]+l[d],g=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),h=f,f=u,u=c,c=a+p|0,a=o,o=r,r=i,i=p+g|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(r),e.HmacSHA256=i._createHmacHelper(r)}(Math),h=CryptoJS,d=h.enc.Utf8,h.algo.HMAC=h.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=d.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),o=this._iKey=e.clone(),s=r.words,a=o.words,c=0;c<n;c++)s[c]^=1549556828,a[c]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}});const p=l.data,g="credentials";class y{apiUrl=new URL(p);sigv4;auth;constructor(t){this.auth=t}async initApi(){this.sigv4=new r.SignatureV4({service:"execute-api",region:l.region,credentials:{accessKeyId:this.auth.credentials.AccessKeyId,secretAccessKey:this.auth.credentials.SecretKey,sessionToken:this.auth.credentials.SessionToken},sha256:o.Sha256})}async request(t=this.apiUrl,e="POST",n={}){const r=await this.sigv4.sign({hostname:t.host,path:t.pathname,protocol:t.protocol,headers:{"Content-Type":"application/json"}});try{const{data:o}=await i({...r,url:t.href,method:e,data:JSON.stringify(n)});return console.log("Successfully received data: ",o),o}catch(t){throw console.log("An error occurred",t),t}}}t.API=y,t.Auth=class{cognitoIdentities;cognitoUserPools;clientId;challengeSession;access;credentials;identityId;cognitoProviderLoginName;password="asdfghJKL@5679";AUTH_FLOW={CUSTOM_AUTH:"CUSTOM_AUTH",USERNAME_PASSWORD:"USERNAME_PASSWORD",SRP:"SRP"};AUTH_PROVIDERS={google:"accounts.google.com"};constructor(){this.cognitoIdentities=new e.CognitoIdentityClient({region:l.region}),this.cognitoUserPools=new n.CognitoIdentityProviderClient({region:l.region}),this.clientId=l.cognitoUserPoolClientID,this.cognitoProviderLoginName=`cognito-idp.${l.region}.amazonaws.com/${l.cognitoUserPoolID}`,this.init()}async init(){if(s.get(g)){const t=s.get(g);return this.credentials=t.Credentials,void(this.identityId=t.IdentityId)}const t={IdentityPoolId:l.cognitoIdentityPoolID};if(!this.access){const n=new e.GetIdCommand(t);this.identityId=(await this.cognitoIdentities.send(n)).IdentityId}const n={IdentityId:this.identityId};this.access&&(n.Logins={},n.Logins[this.cognitoProviderLoginName]=this.access.IdToken);const i=new e.GetCredentialsForIdentityCommand(n),r=await this.cognitoIdentities.send(i);this.credentials=r.Credentials,this.identityId=r.IdentityId,s.set(g,r)}async initProvider(t,n){const i={IdentityPoolId:l.cognitoIdentityPoolID,Logins:{}};i.Logins[t]=n;const r=new e.GetIdCommand(i);this.identityId=(await this.cognitoIdentities.send(r)).IdentityId;const o={IdentityId:this.identityId,Logins:{}};o.Logins[t]=n;const a=new e.GetCredentialsForIdentityCommand(o),c=await this.cognitoIdentities.send(a);this.credentials=c.Credentials,this.identityId=c.IdentityId,s.set(g,c);const u=new y(this);u.apiUrl=new URL(l.auth),u.initApi(),u.request()}async initAuth(t,e=this.password,i=this.AUTH_FLOW.CUSTOM_AUTH){const r=new n.InitiateAuthCommand({AuthFlow:i,AuthParameters:{USERNAME:t,PASSWORD:e},ClientId:this.clientId});return this.cognitoUserPools.send(r).then((t=>(this.challengeSession=t.Session,t.Session))).catch((n=>"UserNotFoundException"===n.__type?this.signUp(t,e,i):n.message))}async signUp(t,e=this.password,i=this.AUTH_FLOW.CUSTOM_AUTH){const r=new n.SignUpCommand({Username:t,Password:e,UserAttributes:i===this.AUTH_FLOW.CUSTOM_AUTH?[{Name:"phone_number",Value:t}]:[],ClientId:this.clientId});return await this.cognitoUserPools.send(r),this.initAuth(t)}async confirm(t,e){if(this.challengeSession)return this.verify(t,e);{const i=new n.ConfirmSignUpCommand({ClientId:this.clientId,Username:t,ConfirmationCode:e});await this.cognitoUserPools.send(i),this.initAuth(t)}}async verify(t,e){const i=new n.RespondToAuthChallengeCommand({ChallengeName:"CUSTOM_CHALLENGE",ClientId:this.clientId,ChallengeResponses:{USERNAME:t,ANSWER:e},Session:this.challengeSession});try{const t=await this.cognitoUserPools.send(i);return this.access=t.AuthenticationResult,this.init(),t}catch(t){return t.message}}},t.Config=class{exports=l;encryption(t=!0,e="secret-string-to-be-replaced"){s.config.encrypt=!0,s.config.secret="secret-string-to-be-replaced",s.config.encrypter=(t,e)=>c.encrypt(JSON.stringify(t),e).toString(),s.config.decrypter=(t,e)=>{try{return JSON.parse(c.decrypt(t,e).toString(a))}catch(e){return t}}}}}));
